import{_ as e,k as s,F as a,$ as n,W as o,V as t,H as l,M as r}from"./chunks/framework.e8799e72.js";const p=JSON.parse('{"title":"Images","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"Best practices: Images"}],["meta",{"name":"og:description","content":"Collection of good practices to manage images."}],["meta",{"name":"og:image","content":"https://frontends-og-image.vercel.app/Best%20practices:%20**Images** ðŸ–¼.png?fontSize=110px"}]],"nav":{"position":30}},"headers":[{"level":2,"title":"Optimization","slug":"optimization","link":"#optimization","children":[{"level":3,"title":"Image format & Compression","slug":"image-format-compression","link":"#image-format-compression","children":[]},{"level":3,"title":"Images hosting on CDN + Image processor","slug":"images-hosting-on-cdn-image-processor","link":"#images-hosting-on-cdn-image-processor","children":[]}]},{"level":2,"title":"Responsive images","slug":"responsive-images","link":"#responsive-images","children":[]},{"level":2,"title":"Reduce Cumulative Layout Shift (CLS)","slug":"reduce-cumulative-layout-shift-cls","link":"#reduce-cumulative-layout-shift-cls","children":[]},{"level":2,"title":"Speed up Largest Contentful Paint","slug":"speed-up-largest-contentful-paint","link":"#speed-up-largest-contentful-paint","children":[]},{"level":2,"title":"Resources","slug":"resources","link":"#resources","children":[]}],"relativePath":"best-practices/images.md","filePath":"best-practices/images.md"}'),i={name:"best-practices/images.md"},c=o('<h1 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">â€‹</a></h1><p>Best practices for images.</p><h2 id="optimization" tabindex="-1">Optimization <a class="header-anchor" href="#optimization" aria-label="Permalink to &quot;Optimization&quot;">â€‹</a></h2><p>Let&#39;s have a look on some good practices to help display images efficiently.</p><h3 id="image-format-compression" tabindex="-1">Image format &amp; Compression <a class="header-anchor" href="#image-format-compression" aria-label="Permalink to &quot;Image format &amp; Compression&quot;">â€‹</a></h3><p>Compression is the first step, relatively easy to achieve in order to reduce loading time by reducing file size, thus saving network traffic for images.</p><p><strong>WebP</strong> is a new format for images, developed by Google, in order to add an alternative for <em>png</em> images, but with lossy compression, enhanced by some new techniques allowing to compress with different level selectively within the same image. As it&#39;s become fully supported in all modern browsers - it can be recommended.</p><p>You can check how much you can save by using <code>webp</code> format instead of others raster-images formats. See how can it help you on <a href="http://thumborize.globo.com/?url=https://frontends-demo.vercel.app" target="_blank" rel="noreferrer">Thumbor</a>.</p><div class="info custom-block"><p class="custom-block-title">Test different formats</p><p>There are many image formats, which have different advantages, depending on images purposes. Probably you don&#39;t need <code>webp</code> files for vector images. Sometimes, when the high image quality is important, using lossy formats may not be a good idea. It always depends on the use case.</p><p>There are many tools to check different image formats, but the great one is <a href="https://squoosh.app/" target="_blank" rel="noreferrer">Squoosh</a> which allows you to experiment with images interactively:</p><p><img src="/assets/squoosh-app.758de6a6.png" alt="Squoosh screenshot"></p></div><h3 id="images-hosting-on-cdn-image-processor" tabindex="-1">Images hosting on CDN + Image processor <a class="header-anchor" href="#images-hosting-on-cdn-image-processor" aria-label="Permalink to &quot;Images hosting on CDN + Image processor&quot;">â€‹</a></h3><p>Using Content Delivery Network platforms (CDN) helps to reduce network distance, by serving resources from the closest server for an user.</p><p>Although it can be a standalone service, some platforms serves images with additional option of resizing on the fly, or being more general: processing the images, depending on provided query parameter, like <code>?width=400px</code>. Thanks to this, <code>&lt;img&gt;</code> element is more readable.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.swfrontends.com/frontends-unsplash.png?width=400px</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">srcset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#C3E88D;">    https://images.swfrontends.com/frontends-unsplash.png?width=400px 320w,</span></span>\n<span class="line"><span style="color:#C3E88D;">    https://images.swfrontends.com/frontends-unsplash.png?width=800px 720w</span></span>\n<span class="line"><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>\n<span class="line"></span></code></pre></div><p>Examples of open source image processors which can be used as a middleware to serve processed images:</p><ul><li><a href="https://www.thumbor.org/" target="_blank" rel="noreferrer">thumbor</a></li><li><a href="https://github.com/lovell/sharp" target="_blank" rel="noreferrer">lovell/sharp</a></li><li><a href="https://github.com/imgproxy/imgproxy" target="_blank" rel="noreferrer">imgproxy/imgproxy</a></li></ul><h2 id="responsive-images" tabindex="-1">Responsive images <a class="header-anchor" href="#responsive-images" aria-label="Permalink to &quot;Responsive images&quot;">â€‹</a></h2><p>Utilize <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset" target="_blank" rel="noreferrer">srcset</a> attribute for <code>&lt;img&gt;</code> elements in order to load the image in size what is actually needed at the moment. Decide what metric (pixel ratio - DPR or width) is more appropriate for your users when defining breakpoints.</p><p>Also, consider using <code>sizes</code> attribute which will indicate what image size is best to choose - if your images occupy less than 100% of viewport. The value can be defined in percentage of viewport width (<code>sizes=&quot;80vw&quot;</code>) or fixed value (<code>sizes=&quot;600px&quot;</code>) regardless the device size. Read more at <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes" target="_blank" rel="noreferrer">mdn web docs</a>.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">sizes</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50vw</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">srcset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#C3E88D;">    frontends-header-xs.webp  600w,</span></span>\n<span class="line"><span style="color:#C3E88D;">    rontends-header-md.webp  1200w,</span></span>\n<span class="line"><span style="color:#C3E88D;">    rontends-header-xl.webp  2000w</span></span>\n<span class="line"><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rontends-header-xs.webp</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#C792EA;">alt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">/&gt;</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- src fallback is set to be mobile first --&gt;</span></span>\n<span class="line"></span></code></pre></div><p>If you application serves many image formats and there is a significant part of users with older browsers, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture" target="_blank" rel="noreferrer">picture</a> element.</p><p>In this example, browser will decide which image format is available to serve, otherwise the <code>&lt;img&gt;</code> will be picked as a fallback.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">picture</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">source</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/avif</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">srcset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#C3E88D;">      https://images.swfrontends.com/frontends-unsplash-320.avif 320w,</span></span>\n<span class="line"><span style="color:#C3E88D;">      https://images.swfrontends.com/frontends-unsplash-720.avif 720w</span></span>\n<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">source</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/webp</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">srcset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#C3E88D;">      https://images.swfrontends.com/frontends-unsplash-320.webp 320w,</span></span>\n<span class="line"><span style="color:#C3E88D;">      https://images.swfrontends.com/frontends-unsplash-720.webp 720w</span></span>\n<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.swfrontends.com/frontends-unsplash.png</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">alt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Logo Shopware Frontends</span><span style="color:#89DDFF;">&quot;</span></span>\n<span class="line"><span style="color:#89DDFF;">  /&gt;</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">picture</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre></div><h2 id="reduce-cumulative-layout-shift-cls" tabindex="-1">Reduce Cumulative Layout Shift (CLS) <a class="header-anchor" href="#reduce-cumulative-layout-shift-cls" aria-label="Permalink to &quot;Reduce Cumulative Layout Shift (CLS)&quot;">â€‹</a></h2><p>When Images occupy a big amount of space on web pages, they are a common cause of high <a href="https://web.dev/cls/" target="_blank" rel="noreferrer">CLS</a> scores.</p>',24),m=t("ul",null,[t("li",null,[l("Always set "),t("code",null,"width"),l(" and "),t("code",null,"hight"),l(" attributes for your "),t("code",null,"<img>"),l(" elements, with values matching size of image source. So even if they are being loaded, the space of layout will be filled out.")]),t("li",null,[l("Define CSS style to override "),t("code",null,"<img>"),l(" attributes (there is a moment when image element is available in DOM, and CSS is not loaded yet):"),t("div",{class:"language-css"},[t("button",{title:"Copy Code",class:"copy"}),t("span",{class:"lang"},"css"),t("pre",null,[t("code",null,[t("span",{class:"line"},[t("span",{style:{color:"#FFCB6B"}},"img"),t("span",{style:{color:"#A6ACCD"}}," "),t("span",{style:{color:"#89DDFF"}},"{")]),l("\n"),t("span",{class:"line"},[t("span",{style:{color:"#A6ACCD"}},"  "),t("span",{style:{color:"#B2CCD6"}},"max-width"),t("span",{style:{color:"#89DDFF"}},":"),t("span",{style:{color:"#A6ACCD"}}," "),t("span",{style:{color:"#F78C6C"}},"100%"),t("span",{style:{color:"#89DDFF"}},";")]),l("\n"),t("span",{class:"line"},[t("span",{style:{color:"#A6ACCD"}},"  "),t("span",{style:{color:"#B2CCD6"}},"height"),t("span",{style:{color:"#89DDFF"}},":"),t("span",{style:{color:"#A6ACCD"}}," auto"),t("span",{style:{color:"#89DDFF"}},";")]),l("\n"),t("span",{class:"line"},[t("span",{style:{color:"#89DDFF"}},"}")]),l("\n"),t("span",{class:"line"})])])])]),t("li",null,[l("Try to use low-quality placeholders (based on svg, for example) to avoid having empty blank spaces within the layout: "),t("div",{role:"status",class:"mt-4 max-w-sm p-4 animate-pulse md:p-6"},[t("div",{class:"flex items-center justify-center h-32 mb-4 bg-gray-300 rounded dark:bg-gray-700"},[t("svg",{class:"w-12 h-12 text-gray-200 dark:text-gray-600",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 640 512"},[t("path",{d:"M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"})])])])])],-1),d=o('<h2 id="speed-up-largest-contentful-paint" tabindex="-1">Speed up Largest Contentful Paint <a class="header-anchor" href="#speed-up-largest-contentful-paint" aria-label="Permalink to &quot;Speed up Largest Contentful Paint&quot;">â€‹</a></h2><p>&quot;<a href="https://web.dev/lcp/" target="_blank" rel="noreferrer">LCP</a> element has an image on around three quarters of pages&quot; says the result of <a href="https://almanac.httparchive.org/en/2021/media#images" target="_blank" rel="noreferrer">Web research</a>. Moreover, on 70.6% mobile pages, LCP element has an image. On desktops, the rate is even bigger: 79.4%. So we can assume, that bad LCP scores are based on low image performance.</p><ul><li>Never use <code>loading=&quot;lazy&quot;</code> on <code>&lt;img&gt;</code> elements if they are part of what an user see first on they viewport (consider editing the attributes for CMS elements in Shopware Experiences).</li><li>Utilize <code>fetchpriority=&quot;high&quot;</code> on <code>&lt;img&gt;</code> also tells the browser, that the asset (LCP resource is prioritized) is important and should be taken care of as fast as possible.</li></ul>',3),h=o('<h2 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">â€‹</a></h2><p>Collection of useful blog posts and articles about performance related to images.</p><ul><li><a href="https://web.dev/learn/images/" target="_blank" rel="noreferrer">https://web.dev/learn/images/</a></li><li><a href="https://austingil.com/better-html-images/" target="_blank" rel="noreferrer">https://austingil.com/better-html-images/</a></li><li><a href="https://www.smashingmagazine.com/2023/01/optimizing-image-element-lcp/" target="_blank" rel="noreferrer">https://www.smashingmagazine.com/2023/01/optimizing-image-element-lcp/</a></li><li><a href="https://web.dev/top-cwv-2023/" target="_blank" rel="noreferrer">https://web.dev/top-cwv-2023/</a></li></ul>',3);const g=e(i,[["render",function(e,o,t,l,p,i){const g=r("PageRef");return s(),a("div",null,[c,m,d,n(g,{page:"../getting-started/page-elements/images",title:"Images as Page-Element",sub:"How to display images served by API"}),h])}]]);export{p as __pageData,g as default};
