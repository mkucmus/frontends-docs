import{_ as s,k as a,F as e,W as n}from"./chunks/framework.e8799e72.js";const l=JSON.parse('{"title":"shopware/frontends - nuxt3-module","description":"","frontmatter":{},"headers":[{"level":2,"title":"Features","slug":"features","link":"#features","children":[]},{"level":2,"title":"Setup","slug":"setup","link":"#setup","children":[]},{"level":2,"title":"Basic usage","slug":"basic-usage","link":"#basic-usage","children":[]},{"level":2,"title":"TypeScript support","slug":"typescript-support","link":"#typescript-support","children":[]},{"level":2,"title":"ðŸ“¦ Advanced packaging","slug":"ðŸ“¦-advanced-packaging","link":"#ðŸ“¦-advanced-packaging","children":[]},{"level":2,"title":"Links","slug":"links","link":"#links","children":[]},{"level":2,"title":"Changelog","slug":"changelog","link":"#changelog","children":[{"level":3,"title":"Latest changes: 0.5.6","slug":"latest-changes-0-5-6","link":"#latest-changes-0-5-6","children":[]},{"level":3,"title":"Patch Changes","slug":"patch-changes","link":"#patch-changes","children":[]}]}],"relativePath":"packages/nuxt3-module.md","filePath":"packages/nuxt3-module.md"}'),o={name:"packages/nuxt3-module.md"},p=[n('<h1 id="shopware-frontends-nuxt3-module" tabindex="-1">shopware/frontends - nuxt3-module <a class="header-anchor" href="#shopware-frontends-nuxt3-module" aria-label="Permalink to &quot;shopware/frontends - nuxt3-module&quot;">â€‹</a></h1><p><a href="https://npmjs.com/package/@shopware-pwa/nuxt3-module" target="_blank" rel="noreferrer"><img src="https://img.shields.io/npm/v/@shopware-pwa/nuxt3-module?color=blue&amp;logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCA0ODggNTUzIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDM5LjA0MSAxMjkuNTkzTDI1OC43NjkgMzEuMzA3NkMyNDQuOTE1IDIzLjc1NDEgMjI4LjExNiAyNC4wMDkzIDIxNC40OTcgMzEuOTgwMkw0Ny4yNjkgMTI5Ljg1OEMzMy40NzYzIDEzNy45MzEgMjUgMTUyLjcxMyAyNSAxNjguNjk1VjM4OC40NjZDMjUgNDA0LjczMiAzMy43Nzg1IDQxOS43MzIgNDcuOTYwMiA0MjcuNjk5TDIxNS4xNzggNTIxLjYzNkMyMjguNDUxIDUyOS4wOTIgMjQ0LjU5MyA1MjkuMzMyIDI1OC4wODIgNTIyLjI3NEw0MzguMzY0IDQyNy45MzRDNDUzLjIwMSA0MjAuMTcgNDYyLjUgNDA0LjgwOSA0NjIuNSAzODguMDYzVjE2OS4xMDJDNDYyLjUgMTUyLjYzMiA0NTMuNTAyIDEzNy40NzcgNDM5LjA0MSAxMjkuNTkzWiIgc3Ryb2tlPSJ1cmwoI3BhaW50MF9saW5lYXJfMTUzXzY5MjY1KSIgc3Ryb2tlLXdpZHRoPSI1MCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzE1M182OTI2NSIgeDE9Ii0xNi4yOTg5IiB5MT0iMTY1LjM0OSIgeDI9IjI3Ni40MTIiIHkyPSItODkuMzIzNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMDA4NUZGIi8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0MwRTJGNSIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPg==" alt=""></a><a href="https://github.com/shopware/frontends/tree/main/packages/nuxt3-module" target="_blank" rel="noreferrer"><img src="https://img.shields.io/github/package-json/v/shopware/frontends?color=blue&amp;filename=packages%2Fnuxt3-module%2Fpackage.json&amp;label=nuxt3-module%40monorepo&amp;logo=github" alt=""></a><a href="https://github.com/shopware/frontends/issues?q=is%3Aopen+is%3Aissue+label%3Anuxt3-module" target="_blank" rel="noreferrer"><img src="https://img.shields.io/github/issues/shopware/frontends/nuxt3-module?label=nuxt3-module%20issues&amp;logo=github" alt=""></a><a href="#"><img src="https://img.shields.io/github/license/shopware/frontends?color=blue" alt=""></a></p><p>Nuxt <a href="https://nuxt.com/docs/guide/going-further/modules" target="_blank" rel="noreferrer">module</a> that allows you to set up a Nuxt 3 project with Shopware Frontends. It provides the composables and api-client packages.</p><p>If you want to use these packages with a different Vue.js framework, see <a href="https://frontends.shopware.com/getting-started/templates/custom-vue-project.html" target="_blank" rel="noreferrer">the guide</a> for using Shopware Frontends in a custom project or use the <a href="https://frontends.shopware.com/framework/internal-structure.html#vue3-plugin" target="_blank" rel="noreferrer">vue3-plugin</a>.</p><h2 id="features" tabindex="-1">Features <a class="header-anchor" href="#features" aria-label="Permalink to &quot;Features&quot;">â€‹</a></h2><ul><li>Business logic covered by <a href="https://npmjs.com/package/@shopware-pwa/composables-next" target="_blank" rel="noreferrer">Composables</a> package. Registering all composable functions globally. <a href="https://frontends.shopware.com/packages/composables.html" target="_blank" rel="noreferrer">See the reference</a>.</li><li>Shopware context shared in Nuxt application.</li><li>Configured <a href="https://npmjs.com/package/@shopware/api-client" target="_blank" rel="noreferrer">API Client</a> package.</li></ul><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">â€‹</a></h2><p>Install npm package:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;"># Using pnpm</span></span>\n<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@shopware-pwa/nuxt3-module</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># Using yarn</span></span>\n<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--dev</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@shopware-pwa/nuxt3-module</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># Using npm</span></span>\n<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@shopware-pwa/nuxt3-module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span>\n<span class="line"></span></code></pre></div><p>Then, register the module by editing <code>nuxt.config.js</code> or (<code>.ts</code>) file (by extending <code>modules</code> array):</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/* nuxt.config.ts */</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineNuxtConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/* ... */</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">/* ... */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@shopware-pwa/nuxt3-module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// set the module config</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">shopware</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// connect to your Shopware 6 API instance</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">endpoint</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://demo-frontends.shopware.store</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">accessToken</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">SWSCBHFSNTVMAWNZDNFKSHLAYW</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// or directly in the runtime config</span></span>\n<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// this config will override the base one</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">runtimeConfig</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">public</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">shopware</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">endpoint</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://demo-frontends.shopware.store</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">accessToken</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">SWSCBHFSNTVMAWNZDNFKSHLAYW</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>\n<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"></span></code></pre></div><p>Set up your own API instance under <code>shopware</code> key or by extending public <code>runtimeConfiguration</code> in the same file. The nuxt module (and vue plugin) will use those values (runtimeConfig will always override the base ones).</p><h2 id="basic-usage" tabindex="-1">Basic usage <a class="header-anchor" href="#basic-usage" aria-label="Permalink to &quot;Basic usage&quot;">â€‹</a></h2><p>Now you can use any composable function you need without extra import:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> login </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useUser</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> refreshSessionContext </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useSessionContext</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">refreshSessionContext</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre></div><p>The information about the session is kept in a cookie (<code>sw-context-token</code>) and used in every request made by any composable or directly, invoked by <code>api instance</code>:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> apiClient </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useShopwareContext</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> apiResponse </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> apiClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">invoke</span><span style="color:#A6ACCD;">(</span><span style="color:#676E95;font-style:italic;">/** params omitted */</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>\n<span class="line"></span></code></pre></div><h2 id="typescript-support" tabindex="-1">TypeScript support <a class="header-anchor" href="#typescript-support" aria-label="Permalink to &quot;TypeScript support&quot;">â€‹</a></h2><p>All composable functions are fully typed with TypeScript and they are registed globally in Nuxt.js application, so the type hinting will help you to work with all of them.</p><h2 id="ðŸ“¦-advanced-packaging" tabindex="-1">ðŸ“¦ Advanced packaging <a class="header-anchor" href="#ðŸ“¦-advanced-packaging" aria-label="Permalink to &quot;ðŸ“¦ Advanced packaging&quot;">â€‹</a></h2><p>Internally, the module uses <a href="https://npmjs.com/package/@shopware-pwa/api-client" target="_blank" rel="noreferrer">API Client</a> and <a href="https://npmjs.com/package/@shopware-pwa/composables-next" target="_blank" rel="noreferrer">Composables</a> packages, configured together to make everything working well. If you need to check how it&#39;s working on a different version of one of them, install a package locally in your project (to be installed and available in project&#39;s <code>package.json</code> file), then the Nuxt module will use yours. Keep in mind that the different configuration may lead to unexpected behavior.</p><h2 id="links" tabindex="-1">Links <a class="header-anchor" href="#links" aria-label="Permalink to &quot;Links&quot;">â€‹</a></h2><ul><li><p><a href="https://frontends.shopware.com" target="_blank" rel="noreferrer">ðŸ“˜ Documentation</a></p></li><li><p><a href="https://shopwarecommunity.slack.com" target="_blank" rel="noreferrer">ðŸ‘¥ Community</a> (<code>#shopware-frontends</code> &amp; <code>#shopware-pwa</code> channel)</p></li></ul><h2 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">â€‹</a></h2><p>Full changelog for stable version is available <a href="https://github.com/shopware/frontends/blob/main/packages/nuxt3-module/CHANGELOG.md" target="_blank" rel="noreferrer">here</a></p><h3 id="latest-changes-0-5-6" tabindex="-1">Latest changes: 0.5.6 <a class="header-anchor" href="#latest-changes-0-5-6" aria-label="Permalink to &quot;Latest changes: 0.5.6&quot;">â€‹</a></h3><h3 id="patch-changes" tabindex="-1">Patch Changes <a class="header-anchor" href="#patch-changes" aria-label="Permalink to &quot;Patch Changes&quot;">â€‹</a></h3><ul><li><p><a href="https://github.com/shopware/frontends/pull/458" target="_blank" rel="noreferrer">#458</a> <a href="https://github.com/shopware/frontends/commit/135ca37d9c911cf47d75705006af2879ab7800a8" target="_blank" rel="noreferrer"><code>135ca37d</code></a> Thanks <a href="https://github.com/danielroe" target="_blank" rel="noreferrer">@danielroe</a>! - This improves performance slightly when developing; we can avoid loading the entire barrel file at <code>#app</code> by using the new granular imports merged in <a href="https://github.com/nuxt/nuxt/pull/23951" target="_blank" rel="noreferrer">https://github.com/nuxt/nuxt/pull/23951</a>.</p></li><li><p>Updated dependencies [<a href="https://github.com/shopware/frontends/commit/c3aa09ee9e73c23b79bf9c1b3e5e63d7d39f1550" target="_blank" rel="noreferrer"><code>c3aa09ee</code></a>, <a href="https://github.com/shopware/frontends/commit/0e031efe7a3c0249a5e883c85ec87542ab07a4c0" target="_blank" rel="noreferrer"><code>0e031efe</code></a>]:</p><ul><li>@shopware-pwa/composables-next@0.14.1</li><li>@shopware-pwa/api-client@0.7.0</li></ul></li></ul>',28)];const t=s(o,[["render",function(s,n,l,o,t,r){return a(),e("div",null,p)}]]);export{l as __pageData,t as default};
